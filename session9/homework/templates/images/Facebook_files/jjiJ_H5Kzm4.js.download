if (self.CavalryLogger) { CavalryLogger.start_js(["uI6a8"]); }

__d("FacecastStreamingCommentDelayTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentDelayLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setProtocol=function(a){this.$1.protocol=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={appid:!0,appversion:!0,client_userid:!0,comment_id:!0,event:!0,protocol:!0,vc:!0};e.exports=a}),null);
__d("FacecastStreamingCommentHealthTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentHealthLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentHealthLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FacecastStreamingCommentHealthLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setGqlsContext=function(a){this.$1.gqls_context=a;return this};a.prototype.setProtocol=function(a){this.$1.protocol=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={appid:!0,appversion:!0,client_userid:!0,comment_id:!0,gqls_context:!0,protocol:!0,session_id:!0,vc:!0};e.exports=a}),null);
__d("LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1756845024340619"};c.getQueryID=function(){"use strict";return"276588582806153"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("LivingRoomAnnouncementQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2080884971983525"};c.getQueryID=function(){"use strict";return"169247300451678"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("UFILiveVideoAnnouncementQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1654091934668900"};c.getQueryID=function(){"use strict";return"208016373275054"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("LiveVideoCommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2048224878543642",queryID:"1712885622171018"})}),null);
__d("UFILiveVideoCommentSubscription",["BaseGraphQLSubscription","LiveVideoCommentCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/live_video_comment_create_subscribe/feedback_id_"+a},_getQueryID:function(){return b("LiveVideoCommentCreateWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}},_getSubscriptionCallName:function(){return"live_video_comment_create_subscribe"}});e.exports=a}),null);
__d("LiveVideoCommentUpdateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1778718412199003",queryID:"2108818762672549"})}),null);
__d("UFILiveVideoCommentUpdateSubscription",["BaseGraphQLSubscription","LiveVideoCommentUpdateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/facecast_comment_update_subscribe/feedback_id_"+a},_getQueryID:function(){return b("LiveVideoCommentUpdateWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}},_getSubscriptionCallName:function(){return"facecast_comment_update_subscribe"}});e.exports=a}),null);
__d("LivingRoomCommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1748996808552816",queryID:"198655907672316"})}),null);
__d("UFILivingRoomCommentSubscription",["BaseGraphQLSubscription","LivingRoomCommentCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/living_room_comment_create_subscribe/feedback_id_"+a},_getQueryID:function(){return b("LivingRoomCommentCreateWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}},_getSubscriptionCallName:function(){return"living_room_comment_create_subscribe"}});e.exports=a}),null);
__d("IdentityBadgeDisplaySurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMMENT:"comment",STORY:"story",LIVE_COMMENT:"live_comment",VIDEO_COMMENT:"video_comment"})}),null);
__d("VideoCreatorTopFansBadgeEventName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATOR_LEADERBOARD_MANAGE_CLICK:"creator_leaderboard_manage_click",CREATOR_LEADERBOARD_MANAGE_RENDER:"creator_leaderboard_manage_render",CREATOR_LEADERBOARD_OPEN_ACTION_SHEET:"creator_leaderboard_open_action_sheet",CREATOR_LEADERBOARD_SEE_ALL_CLICK:"creator_leaderboard_see_all_click",CREATOR_LEADERBOARD_TURN_ON_CLICK:"creator_leaderboard_turn_on_click",CREATOR_LEADERBOARD_TURN_ON_RENDER:"creator_leaderboard_turn_on_render",CREATOR_MERCHANDISING_MANAGE_CLICK:"creator_merchandising_manage_click",CREATOR_MERCHANDISING_MANAGE_RENDER:"creator_merchandising_manage_render",CREATOR_MERCHANDISING_SEE_ALL_CLICK:"creator_merchandising_see_all_click",CREATOR_MERCHANDISING_TURN_ON_CLICK:"creator_merchandising_turn_on_click",CREATOR_MERCHANDISING_TURN_ON_RENDER:"creator_merchandising_turn_on_render",CREATOR_OPT_IN_BADGE:"creator_opt_in_badge",CREATOR_OPT_OUT_BADGE:"creator_opt_out_badge",CREATOR_PAGE_SETTINGS_DESCRIPTION_RENDER:"creator_page_settings_description_render",CREATOR_PAGE_SETTINGS_RENDER:"creator_page_settings_render",CREATOR_RECOVER_FAN_BADGE:"creator_recover_fan_badge",CREATOR_REMOVE_FAN_BADGE:"creator_remove_fan_badge",FAN_CLICK_NOTIF:"fan_click_notif",FAN_CLOSE_NOTIF:"fan_close_notif",FAN_LEADERBOARD_CANCEL_OPT_OUT:"fan_leaderboard_cancel_opt_out",FAN_LEADERBOARD_GET_BADGE_CLICK:"fan_leaderboard_get_badge_click",FAN_LEADERBOARD_MANAGE_CLICK:"fan_leaderboard_manage_click",FAN_LEADERBOARD_SEE_ALL_CLICK:"fan_leaderboard_see_all_click",FAN_MERCHANDISING_GET_BADGE_CLICK:"fan_merchandising_get_badge_click",FAN_MERCHANDISING_MANAGE_CLICK:"fan_merchandising_manage_click",FAN_MERCHANDISING_SEE_ALL_CLICK:"fan_merchandising_see_all_click",FAN_OPT_IN_BADGE:"fan_opt_in_badge",FAN_OPT_OUT_BADGE:"fan_opt_out_badge",IDENTITY_BADGES_INFO_LOAD_FAILED:"identity_badges_info_load_failed",IDENTITY_BADGES_INFO_LOAD_STARTED:"identity_badges_info_load_started",IDENTITY_BADGES_INFO_LOAD_SUCCEEDED:"identity_badges_info_load_succeeded",IDENTITY_BADGES_RENDERED:"identity_badges_rendered",RENDER_FAN_NOTIF:"render_fan_notif",REQUEST_FAN_MEGAPHONE:"request_fan_megaphone",SEND_CREATOR_INTRO_NOTIF:"send_creator_intro_notif",SEND_CREATOR_NOTIF_FAIL:"send_creator_notif_fail",SEND_CREATOR_REFRESH_NOTIF:"send_creator_refresh_notif",SEND_FAN_NOTIF:"send_fan_notif",SEND_FAN_NOTIF_FAIL:"send_fan_notif_fail",TAP_TOP_FAN_PROFILE:"tap_top_fan_profile",TOP_FAN_CREATE:"top_fan_create",TOP_FAN_EXPIRE:"top_fan_expire",TOP_FAN_IDENTIFY:"top_fan_identify",UPSELL_BANNER_GET_BADGE_CLICK:"upsell_banner_get_badge_click",UPSELL_BANNER_GET_BADGE_RENDER:"upsell_banner_get_badge_render",UPSELL_BANNER_MANAGE_CLICK:"upsell_banner_manage_click",UPSELL_BANNER_MANAGE_RENDER:"upsell_banner_manage_render",UPSELL_BANNER_SETTING_PAGE_OPT_IN:"upsell_banner_setting_page_opt_in",UPSELL_BANNER_SETTING_PAGE_OPT_OUT:"upsell_banner_setting_page_opt_out",USER_LEADERBOARD_SEE_ALL_CLICK:"user_leaderboard_see_all_click",USER_MERCHANDISING_SEE_ALL_CLICK:"user_merchandising_see_all_click"})}),null);
__d("VideoCreatorTopFansBadgeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoCreatorTopFansBadgeLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoCreatorTopFansBadgeLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoCreatorTopFansBadgeLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdminID=function(a){this.$1.admin_id=a;return this};a.prototype.setBadgeDisplaySurface=function(a){this.$1.badge_display_surface=a;return this};a.prototype.setCreatorID=function(a){this.$1.creator_id=a;return this};a.prototype.setEntryPoint=function(a){this.$1.entry_point=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setFanID=function(a){this.$1.fan_id=a;return this};a.prototype.setFanPrivacy=function(a){this.$1.fan_privacy=a;return this};a.prototype.setIsFanMegaphoneEligible=function(a){this.$1.is_fan_megaphone_eligible=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={admin_id:!0,badge_display_surface:!0,creator_id:!0,entry_point:!0,event_name:!0,fan_id:!0,fan_privacy:!0,is_fan_megaphone_eligible:!0,vc:!0};e.exports=a}),null);
__d("WoodhengeClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("woodhenge_banzai_client:WoodhengeClientLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("woodhenge_banzai_client:WoodhengeClientLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("woodhenge_banzai_client:WoodhengeClientLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setCreatorPageID=function(a){this.$1.creator_page_id=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setEntrypointSurface=function(a){this.$1.entrypoint_surface=a;return this};a.prototype.setEventData=function(a){this.$1.event_data=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setInterface=function(a){this.$1["interface"]=a;return this};a.prototype.setIsFollower=function(a){this.$1.is_follower=a;return this};a.prototype.setIsSupporter=function(a){this.$1.is_supporter=a;return this};a.prototype.setIsemployee=function(a){this.$1.isemployee=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPostIDRaw=function(a){this.$1.post_id_raw=a;return this};a.prototype.setPresentationMethod=function(a){this.$1.presentation_method=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,creator_page_id:!0,deviceid:!0,entrypoint_surface:!0,event_data:!0,"interface":!0,is_follower:!0,is_supporter:!0,isemployee:!0,name:!0,page_id:!0,post_id_raw:!0,presentation_method:!0,sessionid:!0,surface:!0,vc:!0};e.exports=a}),null);
__d("IdentityBadgeUtils",["IdentityBadgeDisplaySurface","IdentityBadgeType","VideoCreatorTopFansBadgeEventName","VideoCreatorTopFansBadgeTypedLogger","WoodhengeClientTypedLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();if(a==null||a.length===0)return null;a=a.filter(function(a){a=JSON.parse(a.serialized);a=a.type;switch(a){case b("IdentityBadgeType").TOP_FAN:return b("gkx")("AT41gp6WIRWojVFq0h2QE-y2uFwSq_AG6iSWmhPTbiUhwhyQAZ_4lHkVs6CW44Tdv-V-bwe-q7_oDkHtfN_Oze8J");case b("IdentityBadgeType").WOODHENGE:case b("IdentityBadgeType").FAN_FUNDING_SUPPORTER:return!0;default:return!1}});return a.length===0?null:a.map(function(a){var c=JSON.parse(a.serialized),d=c.type;switch(d){case b("IdentityBadgeType").TOP_FAN:new(b("VideoCreatorTopFansBadgeTypedLogger"))().setEventName(b("VideoCreatorTopFansBadgeEventName").IDENTITY_BADGES_RENDERED).setCreatorID(c.target_id).setFanID(c.actor_id).setBadgeDisplaySurface(b("IdentityBadgeDisplaySurface").LIVE_COMMENT).log();break;case b("IdentityBadgeType").WOODHENGE:case b("IdentityBadgeType").FAN_FUNDING_SUPPORTER:new(b("WoodhengeClientTypedLogger"))().setName(b("VideoCreatorTopFansBadgeEventName").IDENTITY_BADGES_RENDERED).setCreatorPageID(c.target_id).setSurface(c.surface).setEntrypointSurface(c.surface).log()}return{type:d,badge_asset:a.badge_asset,text:a.text,serialized:a.serialized}})};e.exports={fromLiveVideoCommentCreateSubscription:a}}),null);
__d("UFISubscriptionUpdates",["fbt","BanzaiODS","CommentPostedLiveState","CommentPrivacyValue","FacecastStreamingCommentDelayTypedLogger","IdentityBadgeUtils","ImmutableObject","LiveWWWFeedbackTypedLogger","ShortProfiles","UFICentralUpdates","UFIComments","UFIConstants","UFIReactionsUtils","UFISharedDispatcher","UFIStoryAction","UFIStreamingStateType","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("BanzaiODS").setEntitySample("feedback",1e-4);function h(a,c,d){new(b("LiveWWWFeedbackTypedLogger"))().setMechanism("graphql_subscriptions").setEvent("receive_payload").setUpdateType(a).setTimeSinceSub(c).updateData(d?d:{}).log()}var i={handleLiveLike:function(a,c,d){__p&&__p();b("BanzaiODS").bumpEntityKey("feedback","gql_like_received");h("like",d);if(!c||!c.feedback_like_subscribe)return;d=c.feedback_like_subscribe.feedback;var e=c.feedback_like_subscribe.liker;if(!d||!e)return;var f=[{actiontype:b("UFIConstants").UFIActionType.LIKE_ACTION,actorid:e.id,clientid:c.feedback_like_subscribe.client_mutation_id,entidentifier:a,likesentences:{current:d.does_viewer_like?d.viewer_likes_sentence:d.viewer_does_not_like_sentence,alternate:d.does_viewer_like?d.viewer_does_not_like_sentence:d.viewer_likes_sentence},hasviewerliked:d.does_viewer_like,likecount:d.likers.count}],g=d.reactions_summary;if(g){g=b("UFIReactionsUtils").getReactionCountMapFromSummary(d.reactions_summary);var i=d.viewer_feedback_reaction_info?d.viewer_feedback_reaction_info.key:0,j=d.reaction_count_reduced?d.reaction_count_reduced:d.reactors.count;f.push({actiontype:b("UFIConstants").UFIActionType.REACTION,actorid:e.id,clientid:c.feedback_like_subscribe.client_mutation_id,entidentifier:a,viewerreaction:i,reactioncount:d.reactors.count,reactioncountreduced:j,reactioncountmap:g,reactionsentences:{current:i?d.viewer_likes_reaction_sentence:d.viewer_does_not_like_reaction_sentence,alternate:i?d.viewer_does_not_like_reaction_sentence:d.viewer_likes_reaction_sentence}})}b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:f})},handleLiveComment:function(a,c,d){b("BanzaiODS").bumpEntityKey("feedback","gql_comment_received");var e=c&&c.comment;if(!e)return;h("comment",d,{comment_id:e.legacy_token});d=this.prepareCommentData(a,e,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{comments:[d]})},handleLiveStreamingComment:function(a,c,d,e){__p&&__p();b("BanzaiODS").bumpEntityKey("feedback","gql_streaming_comment_received");var f=c&&c.comment;if(!f)return;h("comment",d,{comment_id:f.legacy_token});e&&new(b("FacecastStreamingCommentDelayTypedLogger"))().setCommentID(f.legacy_fbid).setEvent("push").log();var g=this.prepareCommentData(a,f,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("requireWeak")("UFILiveStreamingComments",function(d){d.enqueueSubscribedComment(a,{comments:[g],streamingstate:b("UFIStreamingStateType").LIVE,priority:f.live_streaming_comment_priority},c.feedback.top_level_comments.total_count)})},handleLiveStreamingReply:function(a,c,d){__p&&__p();b("BanzaiODS").bumpEntityKey("feedback","gql_streaming_reply_received");if(c==null)return;var e=c.comment;if(e==null)return;h("comment",d,{comment_id:e.legacy_token});d=this.prepareCommentData(a,e,c.client_mutation_id);c.serialized_short_profiles&&b("ShortProfiles").setMulti(JSON.parse(c.serialized_short_profiles));b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,{comments:[d],streamingstate:b("UFIStreamingStateType").LIVE,priority:e.live_streaming_comment_priority})},prepareCommentData:function(a,c,d){__p&&__p();d===void 0&&(d=null);a={__typename:"saved",author:c.author.id,body:c.body,cancomment:c.feedback.can_viewer_comment,canedit:c.can_viewer_edit,canremove:c.can_viewer_delete,canreport:c.can_viewer_report,canembed:c.can_viewer_embed,ftentidentifier:a,id:c.legacy_token,fbid:c.legacy_fbid,legacyid:c.legacy_fbid,timestamp:{time:c.created_time,text:g._("v\u00e0i gi\u00e2y tr\u01b0\u1edbc")},hasviewerliked:c.feedback.does_viewer_like,identityBadges:b("IdentityBadgeUtils").fromLiveVideoCommentCreateSubscription(c.identity_badges||[]),isauthorbot:c.isauthorbot,isauthornoncoworker:c.is_author_non_coworker,isfeatured:c.is_featured,istranslatable:c.translation_available_for_viewer,likecount:c.feedback.likers.count,viewercanlike:c.feedback.can_viewer_like,parentcommentid:c.comment_parent&&c.comment_parent.legacy_token,parentcommentauthorid:(a=c)!=null?(a=a.comment_parent)!=null?(a=a.author)!=null?a.id:a:a:a,privacy_value:b("CommentPrivacyValue")[c.comment_privacy_value],spamreplycount:0,hasConstituentBadge:c.has_constituent_badge,moderator_badge_text:c.moderator_badge_text,videoTimeOffset:c.timestamp_in_video,canviewerpin:c.can_viewer_pin,canviewerunpin:c.can_viewer_unpin,ispinnedbyauthor:c.is_author_pinned};var e=c.written_while_video_was_live;c.timestamp_in_video!=null&&e!=null&&(a.postedLiveState=e?b("CommentPostedLiveState").LIVE:b("CommentPostedLiveState").ON_DEMAND);d!=null&&(a.clientid=d);if(c.attachments.length){e=c.attachments[0];d=e.style_list;if(d&&d.length){d=d[0];if(d=="sticker"){var f=e.target;a.attachment={fbid:f.id,metadata:{source_uri:f.img.uri,source_uri_2x:f.img_2x.uri,width:f.img.width,height:f.img.height,frameCount:f.frame_count,frameRate:f.frame_rate,framesPerCol:f.frames_per_column,framesPerRow:f.frames_per_row,sprite_uri:f.sprite_img&&f.sprite_img.uri,sprite_uri_2x:f.sprite_img_2x&&f.sprite_img_2x.uri},type:"sticker"}}else if(d=="photo"){f=e.target;a.attachment={fbid:f.id,metadata:{preview_uri:f.photo_img&&f.photo_img.uri,width:f.photo_img.width,height:f.photo_img.height,url:f.url},type:"photo"}}else d=="share"||d=="image_share"?(e.type="live_share",a.attachment=e):d=="animated_image_share"||d=="animated_image_autoplay"||d=="animated_image_video"||d=="animated_image_video_autoplay"?(e.type="gif",a.attachment=e):d=="video_inline"?(e.type="video",a.attachment=e):d=="file_upload"?(e.type="file",a.attachment=e):d=="comment_place_info"?(e.type="live_comment_place_info",a.attachment=e):d=="donation"?(e.type="donation",a.attachment=e):d=="TIP_JAR_PAYMENT"&&(e.type="TIP_JAR_PAYMENT",a.attachment=e)}}f=c.feedback;f.reactions_summary&&(a.canviewerreact=f.can_viewer_react,a.reactioncount=f.reactors.count,a.reactioncountmap=b("UFIReactionsUtils").getReactionCountMapFromSummary(f.reactions_summary),a.reactioncountreduced=f.reaction_count_reduced?f.reaction_count_reduced:f.reactors.count,a.viewerreaction=f.viewer_feedback_reaction_info?f.viewer_feedback_reaction_info.key:0);return a},handleLivePinnedComment:function(a,c,d){d=c.pinned_comment_event_create_subscribe.pinned_comment_event.pinned_comment;if(d){d=i.prepareCommentData(a.ftentidentifier,d,c.client_mutation_id);b("UFIComments").setComment(d.id,new(b("ImmutableObject"))(d));b("UFISharedDispatcher").dispatch(b("UFIStoryAction").pinComment(a,d.id))}else b("UFISharedDispatcher").dispatch(b("UFIStoryAction").unpinComment(a))},handleLiveCommentLike:function(a,c,d){h("comment_like",d);a=c&&c.comment_like_subscribe&&c.comment_like_subscribe.feedback;if(!a)return;d=null;a.reactions_summary&&(d={reactioncount:a.reactors.count,reactioncountmap:b("UFIReactionsUtils").getReactionCountMapFromSummary(a.reactions_summary),reactioncountreduced:a.reaction_count_reduced?a.reaction_count_reduced:a.reactors.count,viewerreaction:a.viewer_feedback_reaction_info?a.viewer_feedback_reaction_info.key:0});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,clientid:c.comment_like_subscribe.client_mutation_id,commentid:a.legacy_comment_token,likecount:a.likers&&a.likers.count,reactiondata:d,viewerliked:a.does_viewer_like}]})},handleFacecastCommentUpdate:function(a,c,d){h("comment_like",d);a=c&&c.facecast_comment_update_subscribe&&c.facecast_comment_update_subscribe.comment&&c.facecast_comment_update_subscribe.comment.feedback;if(!a)return;d=null;a.reactions_summary&&(d={reactioncount:a.reactors.count,reactioncountmap:b("UFIReactionsUtils").getReactionCountMapFromSummary(a.reactions_summary),reactioncountreduced:a.reaction_count_reduced?a.reaction_count_reduced:a.reactors.count,viewerreaction:a.viewer_feedback_reaction_info?a.viewer_feedback_reaction_info.key:0});b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.LIVE_SEND,{actions:[{actiontype:b("UFIConstants").UFIActionType.COMMENT_LIKE,commentid:a.legacy_comment_token,likecount:a.likers&&a.likers.count,reactiondata:d,viewerliked:a.does_viewer_like}]})}};e.exports=i}),null);
__d("VideoAnnouncementSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POST:"post",STORIES:"stories",ALL:"all"})}),null);
__d("XLiveStreamingCommentsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/livecomments/",{eft_id:{type:"String",required:!0}})}),null);
__d("XLiveStreamingRankingExperimentAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/livecomments/exp/",{eft_id:{type:"String",required:!0}})}),null);
__d("UFILiveStreamingComments",["fbt","Arbiter","AsyncRequest","BanzaiODS","CurrentUser","EntityPresenceManager","EntityPresenceTypeEnum","FacecastStreamingCommentDelayTypedLogger","FacecastStreamingCommentHealthTypedLogger","FeedbackSourceType","LiveVideoCurrentlyWatchingVideoPresenceConfig","LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery","LivingRoomAnnouncementQueryWebGraphQLQuery","LivingRoomLoggerAction","LivingRoomTypedLogger","StreamingReactionsTrayEvents","TimeSlice","UFICentralUpdates","UFIConfig","UFIConstants","UFIFeedbackTargets","UFILiveStreamingCommentsConfig","UFILiveVideoAnnouncementQueryWebGraphQLQuery","UFILiveVideoCommentSubscription","UFILiveVideoCommentUpdateSubscription","UFILivingRoomCommentSubscription","UFIStreamingStateType","UFISubscriptionUpdates","UFIToplevelStreamedCommentList","VideoAnnouncementSurface","VideoBroadcastStatus","XLiveStreamingCommentsAsyncController","XLiveStreamingRankingExperimentAsyncController","clearInterval","gkx","setInterval","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map(),i=1e4,j=1e4,k=1e4,l=3e4,m=2e3;b("BanzaiODS").setEntitySample("feedback",1e-4);function n(a,c,d,e,f,g,h,l){__p&&__p();this.eftID=a;this.totalCommentCount=c;this.tailCommentFBID=d;this.queue=[];this.ufiPayloadBuffer=[];this.fireworksAnimating=!1;this.liveVideoAnnouncements=[];this.liveVideoCachedCurrentViewers=new Set();this.liveVideoCurrentViewerFetchCounter=0;this.localCommentBodies=new Set();this.mayShortCircuitRendering=!1;this.mayLogExposure=!0;this.isViewerTheOwner=g;this.isLiveAudio=h;this.hasDisplayedFirstViewerJoinEvent=!1;this.contextArgs=l;this.interval=b("setInterval")(function(){return this.renderNextPayload()}.bind(this),b("UFILiveStreamingCommentsConfig").liveCommentRenderDelayMS);b("UFIFeedbackTargets").getFeedbackTarget(this.eftID,function(a){this.$1(a,l)}.bind(this));if(this.contextArgs.shouldLogFacecastStreamingCommentDelay){var n=b("uuid")();this.healthLoggerInterval=b("setInterval")(function(){var a=new(b("FacecastStreamingCommentHealthTypedLogger"))().setCommentID(this.tailCommentFBID).setSessionID(n);this.subscription&&a.setGqlsContext(this.subscription.getContext().transformContext);a.log()}.bind(this),j)}e&&(this.$2(!0),this.liveVideoAnnouncementFetchInterval=b("setInterval")(function(){this.$2(!1)}.bind(this),k));l.showLivingRoomAnnouncements&&this.$3();if(f){if(!b("gkx")("AT5hL4ddeKh2EYcVaZo0PLd2qLLkzRfHeDMADXw3EHaIKcDb74UtuWMPVUrrkHIFlcLlEZCbudEtIXiL5Joo-BVS")&&this.contextArgs.fluentContentToken){var o=this.contextArgs.fluentContentToken;this.liveVideoCurrentViewerFetchInterval=b("setInterval")(function(){var a=b("LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery").getURI({video_id:o});new(b("AsyncRequest"))().setURI(a).setHandler(function(a){this.$4(a.payload)}.bind(this)).send();this.liveVideoCurrentViewerFetchCounter+=1}.bind(this),m)}!h&&b("LiveVideoCurrentlyWatchingVideoPresenceConfig").videoPresenceGK&&(this.presenceToken=b("EntityPresenceManager").enter(b("EntityPresenceTypeEnum").LIVE_VIDEO,this.eftID))}b("UFICentralUpdates").subscribe("update-comments",function(a,b){b.comments&&b.comments.length&&b.comments.forEach(function(a){if(a.parentcommentid)return;a.__typename==="local"&&this.trackLocalComment(a)}.bind(this))}.bind(this));b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").FireworksAnimating,function(a,c){this.fireworksAnimating=c,this.fireworksAnimating?(clearTimeout(this.timeoutID),this.timeoutID=setTimeout(b("TimeSlice").guard(function(){this.fireworksAnimating&&(this.fireworksAnimating=!1,b("BanzaiODS").bumpEntityKey("streaming_comments","comment_fetching_unpause_failure"))}.bind(this),"UFILiveStreaming fireWorksAnimatingTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),i)):this.backFillComments()}.bind(this))}n.prototype.$1=function(a,c){__p&&__p();var d=Date.now();if(c.icebreakerAccessTokenForCommentSubscription){this.subscription=b("UFILiveVideoCommentSubscription").subscribeWithIcebreaker_EXPERIMENTAL(a.targetfbid,function(a){return this.$5(a,d)}.bind(this),c.icebreakerAccessTokenForCommentSubscription);return}if(c.isActiveLivingRoom){this.subscription=b("UFILivingRoomCommentSubscription").subscribe(a.targetfbid,function(a){return this.$6(a,d)}.bind(this),{policy:c.livingRoomCommentSubscriptionConfig});return}this.subscription=b("UFILiveVideoCommentSubscription").subscribe(a.targetfbid,function(a){return this.$5(a,d)}.bind(this),{policy:this.contextArgs.facecastCommentsPolicy});((c=this.contextArgs)!=null?(c=c.liveVideoCommentUIConfig)!=null?c.enableReactionUpdates:c:c)&&(this.commentUpdateSubscription=b("UFILiveVideoCommentUpdateSubscription").subscribe(a.targetfbid,function(c){b("UFISubscriptionUpdates").handleFacecastCommentUpdate(a.targetfbid,c,Date.now()-d)}))};n.prototype.$5=function(a,c){b("UFISubscriptionUpdates").handleLiveStreamingComment(this.eftID,a.live_video_comment_create_subscribe,Date.now()-c,this.contextArgs.shouldLogFacecastStreamingCommentDelay||!1)};n.prototype.$6=function(a,c){var d=a.living_room_comment_create_subscribe.comment;d&&new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").COMMENT_PAYLOAD_RECEIVED).setLivingRoomID(this.eftID).addToExtraData("body",d.body&&d.body.text).addToExtraData("author",d.author.id).addToExtraData("comment_id",d.legacy_fbid).log();b("UFISubscriptionUpdates").handleLiveStreamingComment(this.eftID,a.living_room_comment_create_subscribe,Date.now()-c,this.contextArgs.shouldLogFacecastStreamingCommentDelay||!1)};n.prototype.$7=function(a){var c=a.comments[0].attachment&&a.comments[0].attachment.type==="TIP_JAR_PAYMENT";a=b("UFIConfig").tipJarCommentsNotThrottled||a.comments[0].author===b("CurrentUser").getAccountID();return c&&a};n.prototype.enqueueSubscribedComment=function(a,b){this.contextArgs.facecastCommentsPolicy||this.contextArgs.isActiveLivingRoom||this.$7(a)?this.$8(a):this.$9(a),this.$10(b)};n.prototype.enqueueSubscribedTipJarEvent=function(a,c){this.$9({comments:[this.$11(a,c)],streamingstate:b("UFIStreamingStateType").LIVE,priority:0})};n.prototype.$2=function(a){if(this.liveVideoAnnouncements.length||!this.contextArgs.fluentContentToken)return;a=this.contextArgs.source===b("FeedbackSourceType").LIVE_VIDEO_STORIES?b("VideoAnnouncementSurface").STORIES:b("VideoAnnouncementSurface").POST;a=b("UFILiveVideoAnnouncementQueryWebGraphQLQuery").getURI({video_id:this.contextArgs.fluentContentToken,surface:a});new(b("AsyncRequest"))().setURI(a).setHandler(function(a){this.$12(a.payload)}.bind(this)).send()};n.prototype.$3=function(){var a=b("LivingRoomAnnouncementQueryWebGraphQLQuery").getURI({living_room_id:this.eftID});new(b("AsyncRequest"))().setURI(a).setHandler(function(a){this.$13(a.payload)}.bind(this)).send()};n.prototype.$13=function(a){a=a.data.living_room;if(!a)return;a=a.living_room_announcements;if(!a.length)return;a=a[0];this.$9({comments:[{body:{text:a.message.text},ctaAction:a.cta_action,ctaGlyphName:a.cta_glyph,ctaTextOff:a.cta_text_off,ftentidentifier:this.eftID,id:this.eftID+"_"+a.name,isAnnouncement:!0,isLivingRoomAnnouncement:!0,isJoinEvent:!1,fbid:this.eftID}],streamingstate:b("UFIStreamingStateType").LIVE,priority:0})};n.prototype.$12=function(a){__p&&__p();var c;a=a.data.video;if(!a){b("clearInterval")(this.liveVideoAnnouncementFetchInterval);b("clearInterval")(this.liveVideoAnnouncementRenderInterval);return}a=a.announcements.edges;if(!a.length)return;(c=this.liveVideoAnnouncements).push.apply(c,a);this.liveVideoAnnouncementRenderInterval||(this.$14(),this.liveVideoAnnouncementRenderInterval=b("setInterval")(function(){this.$14()}.bind(this),l))};n.prototype.$14=function(){if(this.liveVideoAnnouncements.length){var a=this.liveVideoAnnouncements.pop();this.$9({comments:[this.$15(a)],streamingstate:b("UFIStreamingStateType").LIVE,priority:0})}};n.prototype.$4=function(a){__p&&__p();a=a.data.video;if(!a||a.broadcast_status!==b("VideoBroadcastStatus").LIVE){b("clearInterval")(this.liveVideoCurrentViewerFetchInterval);return}a=a.live_video_current_viewers.edges;if(!a.length)return;var c,d,e=[];for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i.node.id;!this.liveVideoCachedCurrentViewers.has(j)&&i.node.name&&(c||(c=i.node.id,d=(i.node.profile_picture||{}).uri),e.push(i.node.name))}for(var j=a,i=Array.isArray(j),h=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(h>=j.length)break;g=j[h++]}else{h=j.next();if(h.done)break;g=h.value}f=g;a=f.node.id;this.liveVideoCachedCurrentViewers.add(a)}if(!c)return;g=this.$16(c,d,e);this.$9({comments:[g],streamingstate:b("UFIStreamingStateType").LIVE,priority:0})};n.prototype.handleWatchingStoreJoinEvents=function(a,c){var d,e,f=[];c.forEach(function(a){this.liveVideoCachedCurrentViewers.has(a.uniqueID)||(d||(d=a.uniqueID,e=a.profilePicURI),f.push(a.name),this.liveVideoCachedCurrentViewers.add(a.uniqueID))}.bind(this));if(!d)return;a=this.$16(d,e,f);this.$9({comments:[a],streamingstate:b("UFIStreamingStateType").LIVE,priority:0})};n.prototype.$16=function(a,b,c){var d=!1;!this.isViewerTheOwner&&!this.hasDisplayedFirstViewerJoinEvent&&(this.hasDisplayedFirstViewerJoinEvent=!0,d=!0);return{accentColor:null,ctaAction:"none",ctaGlyphName:null,ctaGlyphNameOff:null,ctaLink:null,ctaState:!1,ctaTextOff:"",ctaTextOn:"",ftentidentifier:this.eftID,glyphName:null,id:this.eftID+a+"_"+this.liveVideoCurrentViewerFetchCounter,image:b,isAnnouncement:!0,isJoinEvent:!0,joinEventData:{isFirstViewerJoinEvent:d,isLiveAudio:this.isLiveAudio,newlyJoinedViewerNames:c},targetID:null}};n.prototype.$11=function(a,b){b=b.tip_jar_tip_event_subscribe.tip_jar_transaction;return{author:b.tip_giver.id,body:{text:g._("sent {The amount of the gift money}!",[g._param("The amount of the gift money",b.currency_quantity_tipped.formatted)])},cancomment:!1,ftentidentifier:a.targetfbid,id:a.targetfbid+"_"+b.id,fbid:b.id,tipOptionIndex:b.tip_option_index.toString(),__typename:"saved"}};n.prototype.$15=function(a){a=a.node;return{accentColor:a.accent_color,body:{text:a.message},broadcastSubscriptionStatus:a.broadcast_subscription_status,ctaAction:a.cta_action,ctaGlyphName:a.cta_glyph,ctaGlyphNameOff:a.cta_glyph_off,ctaLink:a.cta_link,ctaState:a.cta_state,ctaTextOff:a.cta_text_off,ctaTextOn:a.cta_text_on,ftentidentifier:this.eftID,glyphName:a.glyph_name,id:this.eftID+a.name+a.level,image:a.image,isAnnouncement:!0,isJoinEvent:!1,targetID:a.target&&a.target.id}};n.prototype.$9=function(a){if(this.resemblesLocalComment(a.comments[0]))return;this.tailCommentFBID=a.comments[0].fbid;this.queue.push(a);this.queue=n.pruneQueue(this.queue);this.queue.length===1&&this.mayShortCircuitRendering&&(b("BanzaiODS").bumpEntityKey("streaming_comments","short_circuit_render"),b("clearInterval")(this.interval),this.renderNextPayload(),this.interval=b("setInterval")(function(){return this.renderNextPayload()}.bind(this),b("UFILiveStreamingCommentsConfig").liveCommentRenderDelayMS))};n.prototype.$8=function(a){if(this.resemblesLocalComment(a.comments[0]))return;this.tailCommentFBID=a.comments[0].fbid;this.renderPayload(a)};n.prototype.$10=function(a){a=a-this.queue.length;a>this.totalCommentCount&&(this.totalCommentCount=a,b("UFIToplevelStreamedCommentList").getCommentList(this.eftID).updateCommentCount(this.totalCommentCount))};n.prototype.$17=function(){var a=b("UFIToplevelStreamedCommentList").getCommentList(this.eftID);while(this.queue.length){var c=this.queue.shift();if(!a.hasComment(c.comments[0]))return c}return null};n.prototype.renderPayload=function(a){if(!a){this.mayShortCircuitRendering=!0;return}this.fireworksAnimating?this.ufiPayloadBuffer.push(a):(b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,a),this.contextArgs.shouldLogFacecastStreamingCommentDelay&&new(b("FacecastStreamingCommentDelayTypedLogger"))().setCommentID(a.comments[0].fbid).setEvent("render").log(),this.contextArgs.isActiveLivingRoom&&new(b("LivingRoomTypedLogger"))().setLivingRoomAction(b("LivingRoomLoggerAction").COMMENT_PAYLOAD_RENDERED).setLivingRoomID(this.eftID).addToExtraData("body",a.comments[0].body&&a.comments[0].body.text).addToExtraData("author",a.comments[0].author).addToExtraData("comment_id",a.comments[0].fbid).log(),b("BanzaiODS").bumpEntityKey("feedback","facecast_live_comment_rendered"));this.mayShortCircuitRendering=!1;b("CurrentUser").isLoggedIn()&&this.mayLogExposure&&(new(b("AsyncRequest"))().setURI(b("XLiveStreamingRankingExperimentAsyncController").getURIBuilder().setString("eft_id",this.eftID).getURI()).send(),this.mayLogExposure=!1)};n.prototype.renderNextPayload=function(){this.renderPayload(this.$17())};n.prototype.backFillComments=function(){__p&&__p();for(var a=this.ufiPayloadBuffer,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,e)}this.ufiPayloadBuffer=[]};n.prototype.getNextURI=function(){return b("XLiveStreamingCommentsAsyncController").getURIBuilder().setString("eft_id",this.eftID).getURI()};n.prototype.trackLocalComment=function(a){a=n.hashCommentData(a);this.localCommentBodies.add(a)};n.prototype.resemblesLocalComment=function(a){if(a.isAnnouncement)return!1;a=n.hashCommentData(a);return this.localCommentBodies.has(a)};n.prototype.stopStream=function(){b("clearInterval")(this.interval),b("clearInterval")(this.healthLoggerInterval),b("clearInterval")(this.liveVideoAnnouncementFetchInterval),b("clearInterval")(this.liveVideoAnnouncementRenderInterval),this.subscription&&this.subscription.unsubscribe(),this.commentUpdateSubscription&&this.commentUpdateSubscription.unsubscribe(),this.presenceToken&&this.presenceToken.leave(),h["delete"](this.eftID)};n.hashCommentData=function(a){var b=a.author;a.body&&(b+=":"+a.body.text);a.attachment&&(b+=":"+a.attachment.fbid);return b};n.pruneQueue=function(a){__p&&__p();var c=a.length-b("UFIConfig").facecastWWWCommentQueueThreshold;if(c<=0)return a;var d=a.map(function(a,b){return{index:b,priority:a.priority}}).sort(function(a,b){var c=a.priority-b.priority;return c!==0?c:a.index-b.index}).map(function(a){return a.index}).slice(0,c);return a.filter(function(a,b){return d.indexOf(b)===-1})};n.start=function(a,b,c,d,e,f,g,i){var j=h.get(a),k=!j||!j.liveVideoAnnouncementFetchInterval&&d||!j.liveVideoCurrentViewerFetchInterval&&e;if(!k)return;j&&j.stopStream();h.set(a,new n(a,b,c,d,e,f,g,i))};n.enqueueSubscribedComment=function(a,b,c){a=h.get(a);if(!a)return;a.enqueueSubscribedComment(b,c)};n.enqueueLiveJoinEventComment=function(a,b){var c=h.get(a);if(!c||!c.showLiveVideoBroadcastingJoinEvents)return;c.handleWatchingStoreJoinEvents(a,b)};n.enqueueSubscribedTipJarEvent=function(a,b){var c=h.get(a.targetfbid);if(!c)return;c.enqueueSubscribedTipJarEvent(a,b)};n.stop=function(a){a=h.get(a);if(!a)return;a.stopStream()};e.exports=n}),null);
__d("UFIThreadedFacecastCommentContainer.react",["FluxContainer","React","ShortProfiles","SubscriptionsHandler","UFIAddComment.react","UFICentralUpdates","UFIComment.react","UFICommentEditIDStore","UFIComments","UFIFeedbackTargets","UFILocallyComposedCommentStore","WebCommentViewOption"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(h,b("React").PureComponent);g&&g.prototype;h.getStores=function(){return[b("UFILocallyComposedCommentStore"),b("UFICommentEditIDStore")]};h.calculateState=function(a,c){a=b("UFIComments").getComment(c.commentID);var d=b("UFIFeedbackTargets").getFeedbackTargetIfExists(c.contextArgs.ftentidentifier),e=b("UFILocallyComposedCommentStore").getStateForInstance(c.contextArgs.instanceid);return{comment:a,postFeedback:d,localCommentIDs:e,isEditing:a!=null&&a.id===b("UFICommentEditIDStore").getForInstance(c.contextArgs.instanceid)}};h.prototype.componentDidMount=function(){this.setupSubscriptions()};h.prototype.componentDidUpdate=function(){this.setupSubscriptions()};h.prototype.componentWillUnmount=function(){this.closeSubscriptions()};h.prototype.setupSubscriptions=function(){this.closeSubscriptions(),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("UFICentralUpdates").subscribe("comments-updated",function(a){return this.setState(function(a,b){return h.calculateState(a,b)})}.bind(this)),b("UFICentralUpdates").subscribe("feedback-updated",function(a){return this.setState(function(a,b){return h.calculateState(a,b)})}.bind(this)))};h.prototype.closeSubscriptions=function(){var a=this.$1;if(a==null)return;a.release();this.$1=null};h.prototype.render=function(){__p&&__p();var a=this.state.comment,c=this.state.postFeedback;if(a==null||c==null)return b("React").createElement("div",null);var d=b("ShortProfiles").getNow(a.author);if(d==null)return b("React").createElement("div",null);var e=c.actorforpost===a.author,f=a.__typename==="local",g=f||this.state.localCommentIDs[a.id],h=c.showremovemenu||c.viewerid===a.author,i=c.canremoveall&&c.isownerpage&&!e&&!c.grouporeventid,j=!0;if(this.state.isEditing)return b("UFIAddComment.react").renderEditCommentBox(this.props.contextArgs,a,c);else{var k;return b("React").createElement(b("UFIComment.react"),{key:b("UFIComments").getRenderKey(a.id),comment:a,authorProfiles:(k={},k[a.author]=d,k),viewerIsAuthor:e,feedback:c,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:i,isLocallyComposed:g,isOptimisticallyRendered:f,parentCanComment:j,showPermalink:!1,showRemoveReportMenu:h,showTranslation:!!a.translationdata,orderingMode:b("WebCommentViewOption").LIVE_STREAMING,isInLiveVideoReplyMode:!0,showReplyLink:!1,isFeatured:a.isfeatured})}};function h(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(h,{withProps:!0})}),null);
__d("UFIThreadedFacecastComments.react",["csx","cx","CSS","DOMQuery","Parent","React","Style","UFILiveVideoAutoscrollHandler","UFINewCommentsPillUtils","UFIThreadedFacecastCommentContainer.react","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function j(a){return a.length===0?"":a[a.length-1]}c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=b("React").createRef(),this.$4=function(){this.$2.current!=null&&b("UFINewCommentsPillUtils").updateScrolledUp(this.$2.current,this.props.contextArgs)}.bind(this),this.$3=function(a){a.preventDefault(),b("UFINewCommentsPillUtils").scrollToBottom(this.$2.current,this.props.contextArgs.liveVideoNewCommentsPillConfig)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.currentThreadedFacecastCommentID,d=a.contextArgs;a=d.liveVideoNewCommentsPillConfig;var e=null;if(!d.isBroadcasterUFI&&a){a=a.UFINewCommentsPill;e=b("React").createElement(a,{instanceID:d.instanceid,isLiveVideo:!0,key:"ufi-facecast-threaded-comments-new-comments-pill",onClick:this.$3})}return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_6a9v",key:"ufi-facecast-threaded-comments-root",onScroll:b("throttle")(this.$4,100,this),ref:this.$2},b("React").createElement(b("UFIThreadedFacecastCommentContainer.react"),{commentID:c,contextArgs:d}),b("React").createElement("div",{className:"UFIReplyList"},this.props.currentReplyIDs.map(function(a){return b("React").createElement(b("UFIThreadedFacecastCommentContainer.react"),{key:a,commentID:a,contextArgs:d})}))),e)};a.prototype.$5=function(a){__p&&__p();var c=this.$2.current;if(!c)return;var d=b("Parent").bySelector(c,"._1dtf"),e=!1;if(d){var f=b("DOMQuery").scry(d,"._1u35")[0];f&&(e=!b("Style").getFloat(f,"height"))}else d=b("Parent").bySelector(c,"._2e7q")||b("Parent").bySelector(c,"._61wz");if(d)switch(a){case"add":b("CSS").addClass(d,"_6c9e");e&&b("CSS").addClass(d,"_6ea8");return;case"remove":b("CSS").removeClass(d,"_6c9e");b("CSS").removeClass(d,"_6ea8");return}};a.prototype.componentDidMount=function(){this.$1=new(b("UFILiveVideoAutoscrollHandler"))(),this.$5("add"),this.adjustScrollPosition(),this.$2.current&&b("UFINewCommentsPillUtils").updateScrolledUp(this.$2.current,this.props.contextArgs)};a.prototype.componentDidUpdate=function(a){j(this.props.currentReplyIDs)!==j(a.currentReplyIDs)&&this.adjustScrollPosition()};a.prototype.componentWillUnmount=function(){this.$5("remove")};a.prototype.adjustScrollPosition=function(){if(this.props.contextArgs.isBroadcasterUFI)return;var a=this.$2.current;if(!a)return;var c;this.props.contextArgs.isBottomUpCommentStreamingEnabled?c=a:c=b("Parent").bySelector(a,"._1rgu");c&&this.$1.manageScroll(c,this.props.contextArgs)};e.exports=a}),null);
__d("FacecastCommentReplyCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2196779970395867",queryID:"2162049037453611"})}),null);
__d("FacecastCommentReplyCreate",["BaseGraphQLSubscription","FacecastCommentReplyCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/facecast_comment_reply_create_subscribe/feedback_id_"+a},_getQueryID:function(){return b("FacecastCommentReplyCreateWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}},_getSubscriptionCallName:function(){return"facecast_comment_reply_create_subscribe"}});e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();var a=[{kind:"LocalArgument",name:"commentID",type:"String!",defaultValue:null}],b=[{kind:"Variable",name:"comment_legacy_token",variableName:"commentID",type:"String!"}],c={kind:"ScalarField",alias:null,name:"comment_privacy_value",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"text_delights_are_hidden",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,g]},i={kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"can_viewer_add_to_attachment",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"can_viewer_remove_from_attachment",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"can_viewer_add_suggested_to_attachment",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"can_viewer_remove_suggested_from_attachment",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"can_viewer_curate_attachment",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},q=[p],r={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},s=[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},d,g,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60,type:"Int"},{kind:"Literal",name:"size__width",value:60,type:"Int"}],concreteType:"Image",plural:!1,selections:q},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},r],t={kind:"LinkedField",alias:null,name:"pending_places_for_attachment",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:s};s={kind:"LinkedField",alias:null,name:"recommendation_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:s};var u={kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null},aa={kind:"ScalarField",alias:null,name:"article_author_name",args:null,storageKey:null},v=[r],ba={kind:"InlineFragment",type:"EventEmailInvitee",selections:v},ca={kind:"InlineFragment",type:"FoxMode",selections:v},da={kind:"InlineFragment",type:"UnavailableMessagingActor",selections:v},ea={kind:"InlineFragment",type:"FamilyNonUserMember",selections:v},fa={kind:"InlineFragment",type:"Group",selections:v},ga={kind:"InlineFragment",type:"Event",selections:v},ha={kind:"InlineFragment",type:"ThirdPartyUser",selections:v},ia={kind:"InlineFragment",type:"SyntheticActor",selections:v},ja={kind:"InlineFragment",type:"ReducedMessagingActor",selections:v},ka={kind:"InlineFragment",type:"NeoApprovedUser",selections:v},la={kind:"InlineFragment",type:"DittoUser",selections:v},ma={kind:"InlineFragment",type:"User",selections:v},na={kind:"InlineFragment",type:"Page",selections:v},oa={kind:"InlineFragment",type:"ContactUser",selections:v};v={kind:"InlineFragment",type:"BlockedUser",selections:v};var w={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},x=[w],pa={kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:x};x={kind:"LinkedField",alias:null,name:"article_relative_timestamp",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:x};var y={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},z={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},qa={kind:"InlineFragment",type:"Video",selections:[r,y,z]};p=[p,y,z];y={kind:"InlineFragment",type:"Photo",selections:[r,{kind:"LinkedField",alias:"photo_img",name:"image",storageKey:"image(size__width:260)",args:[{kind:"Literal",name:"size__width",value:260,type:"Int"}],concreteType:"Image",plural:!1,selections:p}]};z=[{kind:"Literal",name:"size__height",value:80,type:"Int"},{kind:"Literal",name:"size__width",value:80,type:"Int"}];var A=[{kind:"Literal",name:"size__height",value:160,type:"Int"},{kind:"Literal",name:"size__width",value:160,type:"Int"}];p={kind:"InlineFragment",type:"Sticker",selections:[{kind:"LinkedField",alias:"img",name:"image",storageKey:"image(size__height:80,size__width:80)",args:z,concreteType:"Image",plural:!1,selections:p},{kind:"LinkedField",alias:"img_2x",name:"image",storageKey:"image(size__height:160,size__width:160)",args:A,concreteType:"Image",plural:!1,selections:q},{kind:"LinkedField",alias:"sprite_img",name:"sprite_image",storageKey:"sprite_image(size__height:80,size__width:80)",args:z,concreteType:"Image",plural:!1,selections:q},{kind:"LinkedField",alias:"sprite_img_2x",name:"sprite_image",storageKey:"sprite_image(size__height:160,size__width:160)",args:A,concreteType:"Image",plural:!1,selections:q},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null}]};z={kind:"InlineFragment",type:"GenericAttachmentMedia",selections:[{kind:"LinkedField",alias:"media_img",name:"image",storageKey:"image(size__height:90,size__width:90)",args:[{kind:"Literal",name:"size__height",value:90,type:"Int"},{kind:"Literal",name:"size__width",value:90,type:"Int"}],concreteType:"Image",plural:!1,selections:q}]};A={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};q={kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[A,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"global_share_id",args:null,storageKey:null}]}]};var ra={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[i,j,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[k,l,m,n,o,t,{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[s]}]}]},{kind:"InlineFragment",type:"ExternalUrl",selections:[u,aa,{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,v]},pa,x]},qa,y,p]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[z]},q]},B={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},D=[B,C],sa={kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:D};D={kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:D};var E={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},ta={kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[B,C,E]},ua={kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[B,C,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[d,{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]}]}]},va={kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[w,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[B,C,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,A]}]},sa,D,ta,ua]},F={kind:"ScalarField",alias:null,name:"can_viewer_delete",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"can_viewer_embed",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"can_viewer_edit",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},wa={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},L=[wa],M={kind:"LinkedField",alias:null,name:"reactions_summary",storageKey:null,args:null,concreteType:"FeedbackReactorsPerReaction",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"feedback_reaction",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!1,selections:L},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"PerReactionReactorsOfContentConnection",plural:!1,selections:[E,{kind:"ScalarField",alias:null,name:"display_count",args:null,storageKey:null}]}]},N={kind:"ScalarField",alias:null,name:"can_viewer_like",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"does_viewer_like",args:null,storageKey:null};E=[E];var Q={kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:E},R={kind:"ScalarField",alias:null,name:"can_viewer_comment",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"reaction_count_reduced",args:null,storageKey:null};L={kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:L};var T={kind:"ScalarField",alias:null,name:"viewer_feedback_reaction_key",args:null,storageKey:null};E={kind:"LinkedField",alias:null,name:"likers",storageKey:null,args:null,concreteType:"LikersOfContentConnection",plural:!1,selections:E};var xa=[{kind:"Literal",name:"first",value:50,type:"Int"}],U={kind:"ScalarField",alias:null,name:"is_author_non_coworker",args:null,storageKey:null},V={kind:"ScalarField",alias:null,name:"is_featured",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},ya={kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d]}]},X={kind:"ScalarField",alias:null,name:"has_constituent_badge",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"moderator_badge_text",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"timestamp_in_video",args:null,storageKey:null},$={kind:"ScalarField",alias:null,name:"written_while_video_was_live",args:null,storageKey:null},za={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[A,d,g]};i={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[i,j,{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[A,d,{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[k,l,m,n,o,t,{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[s,d]}]}]},{kind:"InlineFragment",type:"ExternalUrl",selections:[u,aa,{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[A,g,d,ca,ba,ea,fa,ka,ga,v,da,ha,ia,ja,oa,la,ma,na]},pa,x]},qa,y,p]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[A,d,z]},q]};j={kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[w,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[B,C,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,A,d]}]},sa,D,ta,ua]};k={kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[wa,d]};l={kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[A,d]},d]};return{kind:"Request",operationKind:"query",name:"UFIThreadedFacecastCommentsContainerQuery",id:"1818607381528195",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFIThreadedFacecastCommentsContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:b,concreteType:"Comment",plural:!1,selections:[c,d,e,f,h,ra,va,F,G,H,I,J,K,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[M,N,O,P,d,Q,R,S,L,T,E,{kind:"LinkedField",alias:null,name:"top_level_comments",storageKey:"top_level_comments(first:50)",args:xa,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"Comment",plural:!0,selections:[c,d,e,f,h,ra,va,F,G,H,I,J,K,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[Q,N,O,P,d,R,M,S,L,T,E]},U,V,W,ya,X,Y,Z,$]}]}]},U,V,W,ya,X,Y,Z,$]}]},operation:{kind:"Operation",name:"UFIThreadedFacecastCommentsContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:b,concreteType:"Comment",plural:!1,selections:[c,d,e,f,za,i,j,F,G,H,I,J,K,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[M,N,O,P,d,Q,R,S,k,T,E,{kind:"LinkedField",alias:null,name:"top_level_comments",storageKey:"top_level_comments(first:50)",args:xa,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"Comment",plural:!0,selections:[c,d,e,f,za,i,j,F,G,H,I,J,K,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[Q,N,O,P,d,R,M,S,k,T,E]},U,V,W,l,X,Y,Z,$]}]}]},U,V,W,l,X,Y,Z,$]}]}}}();e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_ArticleContextActionLinkFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_ArticleContextActionLinkFragment",type:"ArticleContextActionLink",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"global_share_id",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_CommentPlaceInfoFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60,type:"Int"},{kind:"Literal",name:"size__width",value:60,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}];return{kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_CommentPlaceInfoFragment",type:"CommentPlaceInfo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"can_viewer_add_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_suggested_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_suggested_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_curate_attachment",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pending_places_for_attachment",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:a},{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"recommendation_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:a}]}]}]}}();e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_ExternalUrlAttachmentTargetFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}],b=[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}];return{kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_ExternalUrlAttachmentTargetFragment",type:"ExternalUrl",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"article_author_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"InlineFragment",type:"EventEmailInvitee",selections:a},{kind:"InlineFragment",type:"FoxMode",selections:a},{kind:"InlineFragment",type:"UnavailableMessagingActor",selections:a},{kind:"InlineFragment",type:"FamilyNonUserMember",selections:a},{kind:"InlineFragment",type:"Group",selections:a},{kind:"InlineFragment",type:"Event",selections:a},{kind:"InlineFragment",type:"ThirdPartyUser",selections:a},{kind:"InlineFragment",type:"SyntheticActor",selections:a},{kind:"InlineFragment",type:"ReducedMessagingActor",selections:a},{kind:"InlineFragment",type:"NeoApprovedUser",selections:a},{kind:"InlineFragment",type:"DittoUser",selections:a},{kind:"InlineFragment",type:"User",selections:a},{kind:"InlineFragment",type:"Page",selections:a},{kind:"InlineFragment",type:"ContactUser",selections:a},{kind:"InlineFragment",type:"BlockedUser",selections:a}]},{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"article_relative_timestamp",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:b}]}}();e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_ExternalUrlMediaFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_ExternalUrlMediaFragment",type:"GenericAttachmentMedia",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"media_img",name:"image",storageKey:"image(size__height:90,size__width:90)",args:[{kind:"Literal",name:"size__height",value:90,type:"Int"},{kind:"Literal",name:"size__width",value:90,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_LiveCommentSharedFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},e=[d],f={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},g=[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},a,c,{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60,type:"Int"},{kind:"Literal",name:"size__width",value:60,type:"Int"}],concreteType:"Image",plural:!1,selections:e},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},f],h=[f],i={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},j=[i],k={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null};d=[d,k,l];var m=[{kind:"Literal",name:"size__height",value:80,type:"Int"},{kind:"Literal",name:"size__width",value:80,type:"Int"}],n=[{kind:"Literal",name:"size__height",value:160,type:"Int"},{kind:"Literal",name:"size__width",value:160,type:"Int"}],o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},r=[p,q],s={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},t=[s],u=[{kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null}];return{kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_LiveCommentSharedFragment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"comment_privacy_value",args:null,storageKey:null},a,b,{kind:"ScalarField",alias:null,name:"text_delights_are_hidden",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,c]},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"InlineFragment",type:"CommentPlaceInfo",selections:[{kind:"ScalarField",alias:null,name:"can_viewer_add_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_suggested_to_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_remove_suggested_from_attachment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_curate_attachment",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pending_places_for_attachment",storageKey:null,args:null,concreteType:"Page",plural:!0,selections:g},{kind:"LinkedField",alias:null,name:"place_list_items",storageKey:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"PlaceListItem",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"recommendation_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:g}]}]}]},{kind:"InlineFragment",type:"ExternalUrl",selections:[{kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"article_author_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"article_author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,{kind:"InlineFragment",type:"EventEmailInvitee",selections:h},{kind:"InlineFragment",type:"FoxMode",selections:h},{kind:"InlineFragment",type:"UnavailableMessagingActor",selections:h},{kind:"InlineFragment",type:"FamilyNonUserMember",selections:h},{kind:"InlineFragment",type:"Group",selections:h},{kind:"InlineFragment",type:"Event",selections:h},{kind:"InlineFragment",type:"ThirdPartyUser",selections:h},{kind:"InlineFragment",type:"SyntheticActor",selections:h},{kind:"InlineFragment",type:"ReducedMessagingActor",selections:h},{kind:"InlineFragment",type:"NeoApprovedUser",selections:h},{kind:"InlineFragment",type:"DittoUser",selections:h},{kind:"InlineFragment",type:"User",selections:h},{kind:"InlineFragment",type:"Page",selections:h},{kind:"InlineFragment",type:"ContactUser",selections:h},{kind:"InlineFragment",type:"BlockedUser",selections:h}]},{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:j},{kind:"LinkedField",alias:null,name:"article_relative_timestamp",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:j}]},{kind:"InlineFragment",type:"Video",selections:[f,k,l]},{kind:"InlineFragment",type:"Photo",selections:[f,{kind:"LinkedField",alias:"photo_img",name:"image",storageKey:"image(size__width:260)",args:[{kind:"Literal",name:"size__width",value:260,type:"Int"}],concreteType:"Image",plural:!1,selections:d}]},{kind:"InlineFragment",type:"Sticker",selections:[{kind:"LinkedField",alias:"img",name:"image",storageKey:"image(size__height:80,size__width:80)",args:m,concreteType:"Image",plural:!1,selections:d},{kind:"LinkedField",alias:"img_2x",name:"image",storageKey:"image(size__height:160,size__width:160)",args:n,concreteType:"Image",plural:!1,selections:e},{kind:"LinkedField",alias:"sprite_img",name:"sprite_image",storageKey:"sprite_image(size__height:80,size__width:80)",args:m,concreteType:"Image",plural:!1,selections:e},{kind:"LinkedField",alias:"sprite_img_2x",name:"sprite_image",storageKey:"sprite_image(size__height:160,size__width:160)",args:n,concreteType:"Image",plural:!1,selections:e},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"GenericAttachmentMedia",selections:[{kind:"LinkedField",alias:"media_img",name:"image",storageKey:"image(size__height:90,size__width:90)",args:[{kind:"Literal",name:"size__height",value:90,type:"Int"},{kind:"Literal",name:"size__width",value:90,type:"Int"}],concreteType:"Image",plural:!1,selections:e}]}]},{kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[o,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"global_share_id",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"body",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[p,q,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,o]}]},{kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:r},{kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:r},{kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[p,q,s]},{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[p,q,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]}]}]}]},{kind:"ScalarField",alias:null,name:"can_viewer_delete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_report",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_embed",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_edit",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:t},{kind:"ScalarField",alias:null,name:"can_viewer_like",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"does_viewer_like",args:null,storageKey:null},a,{kind:"ScalarField",alias:null,name:"can_viewer_comment",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"reactions_summary",storageKey:null,args:null,concreteType:"FeedbackReactorsPerReaction",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"feedback_reaction",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!1,selections:u},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"PerReactionReactorsOfContentConnection",plural:!1,selections:[s,{kind:"ScalarField",alias:null,name:"display_count",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"reaction_count_reduced",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:u},{kind:"ScalarField",alias:null,name:"viewer_feedback_reaction_key",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"likers",storageKey:null,args:null,concreteType:"LikersOfContentConnection",plural:!1,selections:t}]},{kind:"ScalarField",alias:null,name:"is_author_non_coworker",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_featured",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"comment_parent",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[b,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]},{kind:"ScalarField",alias:null,name:"has_constituent_badge",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"moderator_badge_text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"timestamp_in_video",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"written_while_video_was_live",args:null,storageKey:null}]}}();e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_PageFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_PageFragment",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"address",storageKey:null,args:null,concreteType:"StreetAddress",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"single_line_full_address",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"location",storageKey:null,args:null,concreteType:"Location",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"latitude",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"longitude",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"overall_rating",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"price_range_description",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(size__height:60,size__width:60)",args:[{kind:"Literal",name:"size__height",value:60,type:"Int"},{kind:"Literal",name:"size__width",value:60,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"top_category_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_PhotoAttachmentTargetFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_PhotoAttachmentTargetFragment",type:"Photo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"LinkedField",alias:"photo_img",name:"image",storageKey:"image(size__width:260)",args:[{kind:"Literal",name:"size__width",value:260,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_StickerAttachmentTargetFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"size__height",value:80,type:"Int"},{kind:"Literal",name:"size__width",value:80,type:"Int"}],b={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},c=[{kind:"Literal",name:"size__height",value:160,type:"Int"},{kind:"Literal",name:"size__width",value:160,type:"Int"}],d=[b];return{kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_StickerAttachmentTargetFragment",type:"Sticker",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"img",name:"image",storageKey:"image(size__height:80,size__width:80)",args:a,concreteType:"Image",plural:!1,selections:[b,{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]},{kind:"LinkedField",alias:"img_2x",name:"image",storageKey:"image(size__height:160,size__width:160)",args:c,concreteType:"Image",plural:!1,selections:d},{kind:"LinkedField",alias:"sprite_img",name:"sprite_image",storageKey:"sprite_image(size__height:80,size__width:80)",args:a,concreteType:"Image",plural:!1,selections:d},{kind:"LinkedField",alias:"sprite_img_2x",name:"sprite_image",storageKey:"sprite_image(size__height:160,size__width:160)",args:c,concreteType:"Image",plural:!1,selections:d},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null}]}}();e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer_VideoAttachmentTargetFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFIThreadedFacecastCommentsContainer_VideoAttachmentTargetFragment",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFIThreadedFacecastCommentsContainer.react",["cx","FacecastCommentReplyCreate","FluxContainer","React","RelayFBEnvironment","RelayModern","ShortProfiles","UFICentralUpdates","UFIComments","UFIConstants","UFINewCommentsPillUtils","UFISharedDispatcher","UFIStoryAction","UFIStreamingStateType","UFISubscriptionUpdates","UFIThreadedFacecastComments.react","UFIThreadedFacecastCommentsStore","XUISpinner.react","nullthrows","promiseDone","UFIThreadedFacecastCommentsContainer_StickerAttachmentTargetFragment.graphql","UFIThreadedFacecastCommentsContainer_PhotoAttachmentTargetFragment.graphql","UFIThreadedFacecastCommentsContainer_VideoAttachmentTargetFragment.graphql","UFIThreadedFacecastCommentsContainer_ExternalUrlAttachmentTargetFragment.graphql","UFIThreadedFacecastCommentsContainer_ExternalUrlMediaFragment.graphql","UFIThreadedFacecastCommentsContainer_PageFragment.graphql","UFIThreadedFacecastCommentsContainer_CommentPlaceInfoFragment.graphql","UFIThreadedFacecastCommentsContainer_ArticleContextActionLinkFragment.graphql","UFIThreadedFacecastCommentsContainer_LiveCommentSharedFragment.graphql","UFIThreadedFacecastCommentsContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l,m,n,o,p,q,r,s=b("RelayModern").fetchQuery;b("RelayModern").graphql;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.StickerAttachmentTargetFragment=i||(i={StickerAttachmentTargetFragment:function(){return b("UFIThreadedFacecastCommentsContainer_StickerAttachmentTargetFragment.graphql")}}),this.PhotoAttachmentTargetFragment=j||(j={PhotoAttachmentTargetFragment:function(){return b("UFIThreadedFacecastCommentsContainer_PhotoAttachmentTargetFragment.graphql")}}),this.VideoAttachmentTargetFragment=k||(k={VideoAttachmentTargetFragment:function(){return b("UFIThreadedFacecastCommentsContainer_VideoAttachmentTargetFragment.graphql")}}),this.ExternalUrlAttachmentTargetFragment=l||(l={ExternalUrlAttachmentTargetFragment:function(){return b("UFIThreadedFacecastCommentsContainer_ExternalUrlAttachmentTargetFragment.graphql")}}),this.ExternalUrlMediaFragment=m||(m={ExternalUrlMediaFragment:function(){return b("UFIThreadedFacecastCommentsContainer_ExternalUrlMediaFragment.graphql")}}),this.PageFragment=n||(n={PageFragment:function(){return b("UFIThreadedFacecastCommentsContainer_PageFragment.graphql")}}),this.CommentPlaceInfoFragment=o||(o={CommentPlaceInfoFragment:function(){return b("UFIThreadedFacecastCommentsContainer_CommentPlaceInfoFragment.graphql")}}),this.ArticleContextActionLinkFragment=p||(p={ArticleContextActionLinkFragment:function(){return b("UFIThreadedFacecastCommentsContainer_ArticleContextActionLinkFragment.graphql")}}),this.LiveCommentSharedFragment=q||(q={LiveCommentSharedFragment:function(){return b("UFIThreadedFacecastCommentsContainer_LiveCommentSharedFragment.graphql")}}),c}a.getStores=function(){return[b("UFIThreadedFacecastCommentsStore")]};a.calculateState=function(a,c){a=b("UFIThreadedFacecastCommentsStore").getCommentID(c.contextArgs.instanceid);var d=b("UFIThreadedFacecastCommentsStore").getReplyCommentIDs(c.contextArgs.instanceid);c=b("UFIThreadedFacecastCommentsStore").getIsLoaded(c.contextArgs.instanceid);return{currentThreadedFacecastCommentID:a,currentReplyIDs:d,isLoaded:c}};a.prototype.componentDidMount=function(){this.loadData(),b("UFICentralUpdates").subscribe("update-actions",function(event,a){if(!a.actions||!a.actions.length)return;for(var c=0;c<a.actions.length;c++){var d=a.actions[c];switch(d.actiontype){case b("UFIConstants").UFIActionType.DELETE_COMMENT:d.commentid&&d.commentid===this.state.currentThreadedFacecastCommentID&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").hideFacecastReplies(this.props.contextArgs,!1));break}}}.bind(this))};a.prototype.componentDidUpdate=function(a,b){this.state.currentThreadedFacecastCommentID!=null&&this.state.currentThreadedFacecastCommentID!==b.currentThreadedFacecastCommentID&&(this.unsubscribeFromRepliesIfNeeded(),this.loadData())};a.prototype.componentWillUnmount=function(){this.unsubscribeFromRepliesIfNeeded()};a.prototype.loadData=function(){__p&&__p();var a=this.state.currentThreadedFacecastCommentID;if(a==null)return;b("promiseDone")(s(b("RelayFBEnvironment"),r||(r=function(){return b("UFIThreadedFacecastCommentsContainerQuery.graphql")}),{commentID:a},{force:!0}),function(a){__p&&__p();var c;c=(c=a)!=null?c.comment:c;var d=(a=a)!=null?(a=a.comment)!=null?(a=a.feedback)!=null?(a=a.top_level_comments)!=null?a.nodes:a:a:a:a,e=[];c!=null&&e.push(b("UFISubscriptionUpdates").prepareCommentData(this.props.contextArgs.ftentidentifier,c));d!=null&&d.forEach(function(a){e.push(b("UFISubscriptionUpdates").prepareCommentData(this.props.contextArgs.ftentidentifier,a))}.bind(this));b("ShortProfiles").getMulti(e.map(function(a){return a.author}).filter(function(a){return a!=null}),function(){b("UFICentralUpdates").handleUpdate(b("UFIConstants").UFIPayloadSourceType.STREAMING,{livethreadedcomments:e,streamingstate:b("UFIStreamingStateType").LIVE});d!=null&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").addFacecastReplies(this.props.contextArgs,d.map(function(a){return b("nullthrows")(a.legacy_token)}).reverse()));this.subscribeToRepliesIfNeeded();var a=this.state.currentThreadedFacecastCommentID;a!=null&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").facecastRepliesLoaded(this.props.contextArgs,a))}.bind(this))}.bind(this))};a.prototype.subscribeToRepliesIfNeeded=function(){__p&&__p();var a=this.state.currentThreadedFacecastCommentID;if(a==null)return;a=b("UFIComments").getComment(a);if(!a)return;var c=Date.now();this.$1=b("FacecastCommentReplyCreate").subscribe(a.fbid,function(a){b("UFISubscriptionUpdates").handleLiveStreamingReply(this.props.contextArgs.ftentidentifier,a.facecast_comment_reply_create_subscribe,Date.now()-c);b("UFINewCommentsPillUtils").dispatchNewCommentAction(b("UFIStoryAction").handleNewFacecastReply(this.props.contextArgs,b("nullthrows")((a=a)!=null?(a=a.facecast_comment_reply_create_subscribe)!=null?(a=a.comment)!=null?a.legacy_token:a:a:a)),this.props.contextArgs)}.bind(this))};a.prototype.unsubscribeFromRepliesIfNeeded=function(){var a=this.$1;a&&a.unsubscribe();this.$1=null};a.prototype.render=function(){var a=this.state.currentThreadedFacecastCommentID;return a==null||!this.state.isLoaded?b("React").createElement("div",{className:"UFICommentsLoadingSpinnerContainer _48pi UFIRow"},b("React").createElement(b("XUISpinner.react"),{size:"large"})):b("React").createElement("div",{className:"_zsm"},b("React").createElement(b("UFIThreadedFacecastComments.react"),{contextArgs:this.props.contextArgs,currentThreadedFacecastCommentID:a,currentReplyIDs:this.state.currentReplyIDs}))};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);