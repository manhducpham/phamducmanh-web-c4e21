if (self.CavalryLogger) { CavalryLogger.start_js(["1Nphz"]); }

__d("TypeaheadCore",["Arbiter","ArbiterMixin","CSS","DOM","Event","Focus","Input","InputSelection","Keys","StickyPlaceholderInput","UserAgent","bind","emptyFunction","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.events=["blur","focus","click","unselect","loading","change"],this.keepFocused=!0,this.preventFocusChangeOnTab=!1,this.queryTimeout=250,this.resetOnKeyup=!0,this.resetOnSelect=!1,this.setValueOnSelect=!1,this.selectOnTabKey=!0,this.selectOnClick=!0,Object.assign(this,a)}a.prototype.init=function(a,c,d){"use strict";this.init=b("emptyFunction"),this.data=a,this.view=c,this.root=d,this.initInput(),this.inputWrap=b("DOM").find(d,"div.wrap"),this.hiddenInput=b("DOM").find(d,"input.hiddenInput"),this.value="",this.nextQuery=null,this.selectedText=null,this.setValueOnSelect&&b("CSS").hasClass(this.inputWrap,"selected")&&(this.selectedText=this.getValue()),this.initView(),this.initData(),this.initEvents(),this.initToggle(),this._exclusions=[]};a.prototype.initInput=function(){"use strict";this.element=b("DOM").find(this.root,".textInput");var a=b("DOM").scry(this.element,"input")[0];a&&(this.element=a)};a.prototype.initView=function(){"use strict";this.view.subscribe("highlight",b("Focus").set.bind(null,this.element)),this.view.subscribe("select",function(a,b){this.select(b.selected)}.bind(this)),this.view.subscribe("afterSelect",function(){this.afterSelect()}.bind(this))};a.prototype.initData=function(){"use strict";this.data.subscribe("notify",function(a,b){this.root.id==b.rootid&&!this.element.disabled&&b.value==this.getValue()&&this.view.render(b.value,b.results,b.isAsync)}.bind(this)),this.data.subscribe("respond",function(a,b){(b.forceDisplay||b.value==this.getValue()&&!this.element.disabled&&(this.element.getAttribute("singlestate")!=="true"||b.nullState))&&this.view.render(b.value,b.results,b.isAsync)}.bind(this)),this.data.subscribe("activity",function(a,b){this.fetching=b.activity,this.fetching||this.nextQuery&&this.performQuery(),this.loading!=this.fetching&&(this.loading=this.fetching,this.inform("loading",{loading:this.loading}))}.bind(this))};a.prototype.initEvents=function(){"use strict";b("Event").listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var a={blur:b("bind")(this,"blur"),focus:b("bind")(this,"focus"),click:b("bind")(this,"click"),keyup:b("bind")(this,"keyup"),keydown:b("bind")(this,"keydown"),keypress:b("bind")(this,"keypress")};b("UserAgent").isBrowser("Firefox")&&b("Event").listen(this.element,{input:a.keyup});b("Event").listen(this.element,a)};a.prototype.initToggle=function(){"use strict";this.subscribe("blur",this.view.hide.bind(this.view)),this.subscribe("focus",this.view.show.bind(this.view))};a.prototype.viewMousedown=function(){"use strict";this.selecting=!0};a.prototype.viewMouseup=function(){"use strict";this.selecting=!1};a.prototype.blur=function(){"use strict";if(this.selecting){this.selecting=!1;return}this.inform("blur")};a.prototype.click=function(){"use strict";if(this.selectOnClick){var a=b("InputSelection").get(this.element);a.start==a.end&&this.element.select()}this.inform("click")};a.prototype.focus=function(){"use strict";this.checkValue(),this.inform("focus")};a.prototype.keyup=function(){"use strict";this.resetOnKeyup&&!this.getValue()&&this.view.reset(),this.checkValue(),this.getValue().length===0&&this.inform("change",null)};a.prototype.keydown=function(event){"use strict";__p&&__p();if(!this.view.isVisible()||this.view.isEmpty()){setTimeout(this.checkValue.bind(this),0);return}switch(b("Event").getKeyCode(event)){case b("Keys").TAB:this.handleTab(event);return;case b("Keys").UP:this.view.prev();break;case b("Keys").DOWN:this.view.next();break;case b("Keys").ESC:this.view.reset();break;default:setTimeout(this.checkValue.bind(this),0);return}event.kill()};a.prototype.keypress=function(event){"use strict";this.view.getSelection()&&b("Event").getKeyCode(event)==b("Keys").RETURN&&(this.view.select(),event.kill())};a.prototype.handleTab=function(event){"use strict";this.preventFocusChangeOnTab&&(this.view.getSelection()?event.kill():event.prevent()),this.selectOnTabKey&&this.view.select()};a.prototype.select=function(a){"use strict";if(a&&this.setValueOnSelect){var c=a.orig_text||a.text;this.setValue(c);this.setHiddenValue(a.uid);this.selectedText=c;b("CSS").addClass(this.inputWrap,"selected")}};a.prototype.afterSelect=function(){"use strict";this.keepFocused?b("Focus").set(this.element):this.element.blur(),this.resetOnSelect?this.reset():this.view.reset()};a.prototype.unselect=function(){"use strict";this.setValueOnSelect&&(this.selectedText=null,b("CSS").removeClass(this.inputWrap,"selected")),this.setHiddenValue(),this.inform("unselect",this)};a.prototype.setEnabled=function(a){"use strict";a=a===!1;this.element.disabled=a;b("CSS").conditionClass(this.root,"uiTypeaheadDisabled",a)};a.prototype.reset=function(){"use strict";this.unselect(),this.setValue(),this.keepFocused||b("Input").reset(this.element),this.view.reset(),this.inform("reset")};a.prototype.getElement=function(){"use strict";return this.element};a.prototype.setExclusions=function(a){"use strict";this._exclusions=a.map(String)};a.prototype.getExclusions=function(){"use strict";return this._exclusions};a.prototype.setValue=function(a){"use strict";this.value=this.nextQuery=a||"",b("Input").setValue(this.element,this.value),b("StickyPlaceholderInput").update(this.element),this.inform("change",a)};a.prototype.setHiddenValue=function(a){"use strict";typeof a==="number"&&(a=String(a));this.hiddenInput.value=a||"";b("Arbiter").inform("Form/change",{node:this.hiddenInput});var event=document.createEvent("HTMLEvents");event.initEvent("change",!1,!0);this.hiddenInput.dispatchEvent(event)};a.prototype.getValue=function(){"use strict";return b("Input").getValue(this.element)};a.prototype.getHiddenValue=function(){"use strict";return this.hiddenInput.value||""};a.prototype.checkValue=function(){"use strict";__p&&__p();var a=this.getValue();if(a==this.value)return;this.selectedText&&this.selectedText!=a&&this.unselect();var b=Date.now(),c=b-this.time;this.time=b;this.value=this.nextQuery=a;this.inform("change",this.value);this.performQuery(c)};a.prototype.performQuery=function(a){"use strict";if(this.selectedText)return;a=a||0;this.fetching&&a<this.queryTimeout?this.data.query(this.nextQuery,!0,this._exclusions,a):(this.data.query(this.nextQuery,!1,this._exclusions,a),this.nextQuery=null)};a.prototype.updateHeight=function(){"use strict"};e.exports=a}),null);
__d("FlexibleBlock.react",["cx","invariant","LeftRight.react","React","keyMirror"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("keyMirror")({left:!0,right:!0});function k(a){a.flex&&a.flex in l.FLEX||h(0,undefined),a.children&&a.children.length===2||h(0,undefined)}i=babelHelpers.inherits(l,b("React").Component);i&&i.prototype;l.prototype.render=function(){"use strict";k(this.props);var a,c=this.props,d=c.flex;c=babelHelpers.objectWithoutProperties(c,["flex"]);var e=this.props.children[0],f=this.props.children[1];d=d==j.left;d?(e=e,a=b("LeftRight.react").DIRECTION.right):(e=f,a=b("LeftRight.react").DIRECTION.left);f=b("React").createElement("div",{className:"_42ef"},e);return b("React").createElement(b("LeftRight.react"),babelHelpers["extends"]({},c,{direction:a}),d?f:this.props.children[0],d?this.props.children[1]:f)};function l(){"use strict";i.apply(this,arguments)}l.FLEX=j;e.exports=l}),null);
__d("XPagesSendFriendInviteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/friend_invite/send/",{invitee:{type:"Int",required:!0},page_id:{type:"Int",required:!0},ref:{type:"String",required:!0},invite_note:{type:"String",defaultValue:""},send_in_messenger:{type:"Bool",defaultValue:!1},invite_callsite:{type:"String",defaultValue:"unknown"}})}),null);
__d("PagesFriendInviterSuggestions.react",["cx","fbt","Arbiter","AsyncRequest","FlexibleBlock.react","Image.react","ImageBlock.react","InlineBlock.react","Link.react","React","XPagesSendFriendInviteController","XUIButton.react","XUIGrayText.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={recentlyInvitedIDs:[]},b}a.prototype.render=function(){"use strict";if(this.props.showNoResultsIndicator&&this.props.invitees.length===0)return b("React").createElement("ul",{className:"_5kwh"},b("React").createElement("li",{key:0},h._("Kh\u00f4ng t\u00ecm th\u1ea5y k\u1ebft qu\u1ea3 n\u00e0o.")));var a=this.props.invitees.map(function(a){var c=h._("M\u1eddi"),d;this.props.likedFriends.includes(Number(a.id))?d=b("React").createElement(b("XUIGrayText.react"),{shade:"light",weight:"bold"},h._("\u0110\u00e3 th\u00edch")):this.state.recentlyInvitedIDs.includes(a.id)||this.props.invitedFriends.includes(Number(a.id))?d=b("React").createElement(b("XUIGrayText.react"),{shade:"light",weight:"bold"},h._("\u0110\u00e3 g\u1eedi l\u1eddi m\u1eddi")):d=b("React").createElement(b("XUIButton.react"),{className:"_qfo",label:c,onClick:this.sendInvite.bind(this,a)});c="/ajax/hovercard/hovercard.php?id="+a.id;return b("React").createElement("li",{key:a.id},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement(b("Image.react"),{className:"_5kwi img",src:a.photo}),b("React").createElement(b("FlexibleBlock.react"),{flex:"left"},b("React").createElement("div",{className:"_5kwj"},b("React").createElement("div",null,b("React").createElement(b("Link.react"),{href:a.profilelink,"data-hovercard":c},b("React").createElement("strong",{className:"ellipsis"},a.name)))),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:40},d))))}.bind(this)),c=this.props.loading?b("React").createElement(b("XUISpinner.react"),{className:"_5kwk",size:"large"}):null;return b("React").createElement("ul",{className:"_5kwh"},a,c)};a.prototype.sendInvite=function(a){"use strict";var c=b("XPagesSendFriendInviteController").getURIBuilder().setInt("page_id",this.props.pageID).setInt("invitee",a.id).setString("ref",this.props.refLocation).setString("invite_callsite","PagesFriendInviterSuggestions").getURI();new(b("AsyncRequest"))(c).setMethod("POST").send();c=this.props.onInvite;c&&c({page_id:this.props.pageID,invitee:a.id});b("Arbiter").inform("friendInvitedInline",{id:a.id});this.state.recentlyInvitedIDs.push(a.id);this.forceUpdate()};a.propTypes={pageID:c.string.isRequired,invitees:c.array.isRequired,likedFriends:c.array.isRequired,invitedFriends:c.array.isRequired,refLocation:c.string.isRequired,loading:c.bool,onInvite:c.func,showNoResultsIndicator:c.bool};a.defaultProps={loading:!1,showNoResultsIndicator:!1};e.exports=a}),null);
__d("PagesFriendInviter",["cx","Arbiter","ArbiterMixin","AsyncRequest","CSS","DOM","Event","PagesEventObserver","PagesFriendInviterSuggestions.react","React","ReactComponentRenderer","ReactDOM","ScrollableArea.react","Style","URI","emptyFunction","mixin","throttle","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;a=babelHelpers.inherits(j,b("React").Component);h=a&&a.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.getScrollableArea=function(){return this.refs.scrollArea.getArea()}.bind(this),b}j.prototype.render=function(){"use strict";return b("React").createElement(b("ScrollableArea.react"),{width:this.props.width,onScroll:this.props.onScroll,shadow:!1,ref:"scrollArea"},b("React").createElement(b("PagesFriendInviterSuggestions.react"),{pageID:this.props.pageID,invitees:this.props.invitees,loading:this.props.loading,likedFriends:this.props.likedFriends,invitedFriends:this.props.invitedFriends,refLocation:this.props.refLocation}))};c=babelHelpers.inherits(k,b("mixin")(b("ArbiterMixin")));i=c&&c.prototype;function k(a,b,c,d){"use strict";i.constructor.call(this),this.$PagesFriendInviter1=a,this.$PagesFriendInviter2=b,this.$PagesFriendInviter3=c,this.$PagesFriendInviter4=d||{},this.$PagesFriendInviter5=this.$PagesFriendInviter4.pageID,this.$PagesFriendInviter6=this.$PagesFriendInviter4.invitees||[],this.$PagesFriendInviter7=this.$PagesFriendInviter4.suggestionCount,this.$PagesFriendInviter8=this.$PagesFriendInviter4.likedFriends,k.alreadyInvitedFriends=this.$PagesFriendInviter4.invitedFriends,this.$PagesFriendInviter9=this.$PagesFriendInviter4.ref,this.$PagesFriendInviter10=this.$PagesFriendInviter4.loggingData,this.init(),this.initTypeaheadSubscriptions()}k.prototype.init=function(){"use strict";this.$PagesFriendInviter3!==null&&b("tidyEvent")(b("Event").listen(this.$PagesFriendInviter3,"click",this.initReactSuggestions.bind(this))),b("Arbiter").subscribe("friendInvitedInline",this.markAsInvited.bind(this))};k.prototype.initReactSuggestions=function(event){"use strict";__p&&__p();event.prevent();var a=this.$PagesFriendInviter10;a.ref=this.$PagesFriendInviter9;b("PagesEventObserver").logData_DEPRECATED(a);this.$PagesFriendInviter1.getCore().reset();a=this.$PagesFriendInviter2.offsetWidth;var c=this.$PagesFriendInviter2.offsetHeight,d=this.$PagesFriendInviter3.parentNode.offsetHeight;b("DOM").remove(this.$PagesFriendInviter3);var e=b("DOM").create("div",{className:"_5tee"});b("Style").set(e,"height",d+"px");this.$PagesFriendInviter11=new(b("ReactComponentRenderer"))(j,e);this.$PagesFriendInviter11.setProps({width:a,pageID:this.$PagesFriendInviter5,invitees:this.$PagesFriendInviter6,likedFriends:this.$PagesFriendInviter8,invitedFriends:k.alreadyInvitedFriends,onScroll:b("throttle")(this.onScroll,100,this),refLocation:this.$PagesFriendInviter9});b("DOM").replace(this.$PagesFriendInviter2,e);this.$PagesFriendInviter2=e;this.fetchMoreSuggestions(function(){this.$PagesFriendInviter11.component.getScrollableArea().setScrollTop(c)}.bind(this))};k.prototype.initTypeaheadSubscriptions=function(){"use strict";__p&&__p();if(this.$PagesFriendInviter1===null)return;this.$PagesFriendInviter1.subscribe("render",function(a,c){b("CSS").hide(this.$PagesFriendInviter2)}.bind(this));this.$PagesFriendInviter1.subscribe("reset",function(){b("CSS").show(this.$PagesFriendInviter2);if(this.$PagesFriendInviter11){var a=this.$PagesFriendInviter11.component.getScrollableArea();a.scrollToTop(!1);a.poke()}}.bind(this));this.$PagesFriendInviter1.getView().subscribe("invite",function(a,b){this.inform("invite",b)}.bind(this))};k.prototype.fetchMoreSuggestions=function(a){"use strict";var c=50,d=new(b("URI"))("/ajax/pages/invite/suggestions/");new(b("AsyncRequest"))(d).setMethod("GET").setReadOnly(!0).setData({pageID:this.$PagesFriendInviter4.pageID,offset:this.$PagesFriendInviter7,limit:c,ref:this.$PagesFriendInviter9}).setHandler(this.processResponse.bind(this)).setFinallyHandler(function(){this.$PagesFriendInviter12=!1,a&&a()}.bind(this)).send();this.$PagesFriendInviter7+=c;this.$PagesFriendInviter12=!0};k.prototype.processResponse=function(a){"use strict";a=a.payload;a=a&&a.invitees;if(a&&a.length){var c;(c=this.$PagesFriendInviter6).push.apply(c,a);this.$PagesFriendInviter11.setProps({invitees:this.$PagesFriendInviter6})}else this.$PagesFriendInviter11.setProps({loading:!1,onScroll:b("emptyFunction")})};k.prototype.onScroll=function(){"use strict";if(this.$PagesFriendInviter12)return;this.$PagesFriendInviter11.component.getScrollableArea().isScrolledToBottom()&&(this.$PagesFriendInviter11.setProps({loading:!0}),this.fetchMoreSuggestions())};k.prototype.markAsInvited=function(a,b){"use strict";k.alreadyInvitedFriends.push(Number(b.id))};k.renderSuggestions=function(a,c,d,e,f,g){"use strict";c=b("React").createElement(b("PagesFriendInviterSuggestions.react"),{pageID:c,invitees:d,likedFriends:e,invitedFriends:f,refLocation:g});b("ReactDOM").render(c,a)};k.alreadyInvitedFriends=[];e.exports=k}),null);
__d("PagesFriendInviterTypeahead",["TypeaheadCore"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("TypeaheadCore"));g&&g.prototype;a.prototype.initToggle=function(){"use strict";this.view.subscribe("render",this.view.show.bind(this.view)),this.view.subscribe("reset",this.view.hide.bind(this.view)),this.subscribe("blur",this.reset.bind(this))};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("PagesFriendInviterTypeaheadView",["PagesFriendInviter","PagesFriendInviterSuggestions.react","React","ReactComponentRenderer","ScrollableArea.react","Style","TypeaheadView"],(function(a,b,c,d,e,f){__p&&__p();var g,h;c=babelHelpers.inherits(i,b("React").Component);g=c&&c.prototype;function i(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.scrollToTop=function(){var a=this.refs.scrollArea.getArea();a.scrollToTop(!1);a.poke()}.bind(this),b}i.prototype.render=function(){"use strict";return b("React").createElement(b("ScrollableArea.react"),{width:this.props.width,shadow:!1,ref:"scrollArea"},b("React").createElement(b("PagesFriendInviterSuggestions.react"),{pageID:this.props.pageID,invitees:this.props.invitees,likedFriends:this.props.likedFriends,invitedFriends:b("PagesFriendInviter").alreadyInvitedFriends,refLocation:this.props.refLocation}))};h=babelHelpers.inherits(a,b("TypeaheadView"));h&&h.prototype;a.prototype.render=function(a,c){"use strict";__p&&__p();this.value=a;a={results:c,value:a};this.inform("beforeRender",a);c=a.results;this.results=c;a=c.map(function(a){return{id:a.uid,name:a.text,photo:a.photo}});!this.$PagesFriendInviterTypeaheadView1?(this.$PagesFriendInviterTypeaheadView1=new(b("ReactComponentRenderer"))(i,this.element),this.$PagesFriendInviterTypeaheadView1.setProps({width:this.element.parentNode.offsetWidth,pageID:this.pageID,likedFriends:this.likedFriends,invitedFriends:this.invitedFriends,invitees:a,onInvite:function(a){this.inform("invite",a)}.bind(this),refLocation:this.refLocation})):this.$PagesFriendInviterTypeaheadView1.setProps({invitees:a});a=this.element.parentNode.offsetHeight;b("Style").set(this.element,"height",a+"px");this.inform("render",c);this.$PagesFriendInviterTypeaheadView1.component.scrollToTop()};a.prototype.reset=function(a){"use strict";a||(this.disableAutoSelect=!1);this.$PagesFriendInviterTypeaheadView1&&this.$PagesFriendInviterTypeaheadView1.setProps({invitees:[]});this.index=-1;this.results=[];this.value="";this.inform("reset");return this};a.prototype.highlight=function(){"use strict"};a.prototype.mouseover=function(){"use strict"};a.prototype.select=function(){"use strict"};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);